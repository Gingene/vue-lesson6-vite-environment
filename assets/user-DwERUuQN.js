import{a2 as r,i as d,l as t,ay as e}from"./index-NpP1bDLk.js";const{toast:n}=r(),m=d("user",()=>({login:async o=>{const{data:s}=await t.post(e.login,o),{token:a,expired:c,uid:i}=s;document.cookie=`hexToken=${a};expires=${new Date(c)}`,document.cookie=`hexUid=${i}`,location.href="/#/admin/products",n({title:s.message,description:"為您跳轉後台管理"})},logout:async()=>{const{data:o}=await t.post(e.logout);console.log(o),document.cookie=`hexToken=;expires=${new Date(0)}`,location.href="/",n({title:"登出成功",description:""})},checkAdmin:async()=>{try{const{data:o}=await t.post(e.check);n({title:o.message,description:"歡迎回來"})}catch{location.href="/login"}}}));export{m as u};
