import{a2 as r,i as d,l as t,ay as e}from"./index-DUaBr1rf.js";const{toast:i}=r(),p=d("user",()=>({login:async o=>{const{data:n}=await t.post(e.login,o),{token:s,expired:a,uid:c}=n;document.cookie=`hexToken=${s};expires=${new Date(a)}`,document.cookie=`hexUid=${c}`,location.href=`${location.origin}/#/admin/products`,i({title:n.message,description:"為您跳轉後台管理"})},logout:async()=>{const{data:o}=await t.post(e.logout);document.cookie=`hexToken=;expires=${new Date(0)}`,document.cookie="hexUid=",location.href="/",i({title:`${o.message}`,description:""})},checkAdmin:async()=>{try{const{data:o}=await t.post(e.check);i({title:o.message,description:"歡迎回來"})}catch{location.href="/login"}}}));export{p as u};
