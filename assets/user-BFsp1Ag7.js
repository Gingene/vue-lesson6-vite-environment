import{a2 as c,i as r,l as t,ay as e}from"./index-lmB3NvbC.js";const{toast:a}=c(),g=r("user",()=>({login:async o=>{const{data:n}=await t.post(e.login,o),{token:i,expired:s,uid:h}=n;document.cookie=`hexToken=${i};expires=${new Date(s)}`,location.href=`${location.origin}${location.pathname}#/admin/products`,a({title:n.message,description:"為您跳轉後台管理"})},logout:async()=>{const{data:o}=await t.post(e.logout);document.cookie=`hexToken=;expires=${new Date(0)}`,location.href=`${location.origin}${location.pathname}#/`,a({title:`${o.message}`,description:""})},checkAdmin:async()=>{try{const{data:o}=await t.post(e.check);a({title:o.message,description:"歡迎回來"})}catch{location.href=`${location.origin}${location.pathname}#/login`}}}));export{g as u};
